<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>관리자 - 회원관리</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <main class="container">
        <hr>
        <h3>회원관리</h3>
        <hr>
        <h5>회원 등록</h5>
        <div style="width: 650px" class="card">
            <div id="default">
                <div class ="card-header" id="messageBot">............</div>
            </div>
            <div class="form-group card-body">
                <div  class="input-group input-group-sm mb-3">
                    <label class="input-group-text col-2" for="name">이름</label>
                    <input class="form-control form-control-sm" id="name">
                </div>
                <div  class="input-group input-group-sm mb-3">
                    <label class="input-group-text col-2" for="email">이메일</label>
                    <input class="form-control form-control-sm" id="email" type="email">
                </div>
                <div  class="input-group input-group-sm mb-3">
                    <label class="input-group-text col-2"  for="tel" >전화번호</label>
                    <input class="form-control form-control-sm" id="tel" type="text">
                </div>

                <div  class="input-group input-group-sm mb-	3">
                    <label class="input-group-text col-2" for="password" >패스워드</label>
                    <input class="form-control form-control-sm" id="password" type="password">
                </div>
            </div>
        </div>
        <hr>
        <div class="buttonGroup">
            <button id="selectOne" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#myModal">회원번호로 조회 : GET</button>
            <button id="save" class="btn btn-outline-dark">회원 등록 : POST</button>
            <button id="clear" class="btn btn-outline-dark">초기화 (CLEAR)</button>
        </div>
        <hr>
        <!---->
        <div  class="input-group input-group-sm mb-3">
            <label class="input-group-text col-2" for="name">회원번호</label>
            <input class="form-control form-control-sm" id="pk"
                    placeholder="조회할 회원번호 입력하세요.">
            <button>조회</button>
            <button disabled>수정</button>
            <button disabled>삭제</button>
        </div>



    </main>

    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">회원 조회</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" id="closex"></button>
                </div>  <!--   -->

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="input-group">
                        <div  class="input-group input-group-sm mb-3">
                            <label for="memIdx" class="col-6">
                                <input class="form-control form-control-sm" id="memIdx" placeholder="조회할 회원번호를 입력하세요.">
                            </label>
                            <button id="selectPk" class="btn btn-outline-dark">조회</button>
                        </div>
                        <table id="list" style="width: 950px;" class="table table-hover">
                            <thead>
                            <tr>
                                <th>회원번호</th>
                                <th scope="col">이름</th>
                                <th scope="col">이메일</th>
                                <th scope="col">전화번호</th>
                            </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="close">Close</button>
                </div>

            </div>
        </div>
    </div>



    <script src="./js/register.js"></script>
    <script src="./js/selectByPk.js"></script>
    <!--  비동기 통신 잘되는지 확인해 본 테스트 코드 입니다.-->
    <!--
    <script>
            const xhr = new XMLHttpRequest();
            xhr.open('GET','/members');
            xhr.send();
            xhr.onload = () =>{
                if(xhr.status === 200){
                    alert('요청에 대한 응답을 받았습니다.')
                    let resp = xhr.response
                    console.log(resp)
                }
            }   // XMLHttpRequest 객체는 콜백함수를 사용합니다. 비동기처리의 순서가 보장이 안됩니다.

            //Promise 기반으로 만들어진 fetch 함수를 사용합니다.
            const options = { method:'Get'}    //헤더,본문(body) 이 있는 경우 포함하여 저장합니다.
            fetch('/members',options)
                .then(response => {   //response 응답을 인자로 실행하는 함수 {}
                    if(response.status ===200){
                        alert('두번째 요청에 대한 응답을 받았습니다.')
                        console.log(response)
                    }
                    return response.json()      //응답 body 를 자바스크립트 객체로 역직렬화
                })
                .then(obj => {      //바로 위의 then 에서 return 값이 obj 로 전달됩니다.
                    console.log('obj=',obj)
                    return "ok";
                })
                .then(msg => alert('요청을 종료합니다.' + msg))
    </script>
    -->
</body>
</html>